{"version":3,"sources":["reducers/authReducer.js","reducers/index.js","actions/types.js","reducers/streamReducer.js","apis/streams.js","history.js","actions/index.js","components/GoogleAuth.jsx","components/Navbar.jsx","components/streams/Setup.jsx","components/streams/StreamList.jsx","components/streams/StreamShow.jsx","components/streams/StreamForm.jsx","components/streams/StreamCreate.jsx","components/streams/StreamEdit.jsx","components/Modal.jsx","components/streams/StreamDelete.jsx","components/App.js","index.js"],"names":["INITIAL_STATE","isSignedIn","userId","combineReducers","auth","state","action","type","payload","form","formReducer","streams","_","mapKeys","id","omit","axios","create","baseURL","createBrowserHistory","fetchStream","dispatch","a","get","response","data","GoogleAuth","componentDidMount","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","onAuthChange","listen","props","signIn","currentUser","getId","signOut","onSignIn","onSignOut","this","onClick","className","style","marginRight","renderAuthButton","React","Component","connect","Navbar","to","Setup","renderCreateLink","Fragment","src","alt","href","target","StreamList","fetchStreams","stream","currentUserId","title","map","key","renderAdmin","description","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","match","params","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","ref","width","controls","renderStream","ownProps","StreamForm","renderInput","input","label","meta","error","touched","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","name","component","reduxForm","validate","errors","StreamCreate","createStream","getState","post","history","push","StreamEdit","editStream","initialValues","pick","patch","Modal","ReactDOM","createPortal","onDismiss","e","stopPropagation","content","document","querySelector","StreamDelete","onClickHandler","deleteStream","renderTitle","renderContent","renderAction","delete","App","path","exact","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.67a25d0e.chunk.js","sourcesContent":["import { SIGN_IN, SIGN_OUT } from '../actions/types'\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport authReducer from './authReducer';\nimport streamReducer from './streamReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n});\n","export const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const CREATE_STREAM = 'CREATE_STREAM';\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\nexport const FETCH_STREAM = 'FETCH_STREAM';\nexport const DELETE_STREAM = 'DELETE_STREAM';\nexport const EDIT_STREAM = 'EDIT_STREAM';\n","import _ from 'lodash';\nimport {\n  FETCH_STREAM,\n  FETCH_STREAMS,\n  CREATE_STREAM,\n  EDIT_STREAM,\n  DELETE_STREAM\n} from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, 'id') };\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case DELETE_STREAM:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n};\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://react-stream-server.herokuapp.com'\n});\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import streams from '../apis/streams'\nimport history from '../history'\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from './types'\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post('/streams', { ...formValues, userId });\n\n  dispatch({ type: CREATE_STREAM, payload: response.data});\n  history.push('/');\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('/streams');\n\n  dispatch({ type: FETCH_STREAMS, payload: response.data});\n};\n\nexport const fetchStream = (id) => async dispatch => {\n  const response = await streams.get(`/streams/${id}`);\n\n  dispatch({ type: FETCH_STREAM, payload: response.data});\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, formValues);\n\n  dispatch({ type: EDIT_STREAM, payload: response.data});\n  history.push('/');\n};\n\n\nexport const deleteStream = (id) => async dispatch => {\n  await streams.delete(`/streams/${id}`);\n\n  dispatch({ type: DELETE_STREAM, payload: id});\n  history.push('/');\n};\n","import React from 'react';\n// redux\nimport { connect } from 'react-redux';\nimport { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends React.Component {\n  componentDidMount = () => {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId: '241696005084-ebg1a0ippssjkdt3t37g4g4a0qi04agt.apps.googleusercontent.com',\n        scope: 'email'\n      }).then(() => {\n        this.auth = window.gapi.auth2.getAuthInstance();\n\n        this.onAuthChange(this.auth.isSignedIn.get());\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      });\n    });\n  };\n\n  onAuthChange = (isSignedIn) => {\n   if (isSignedIn) {\n    this.props.signIn(this.auth.currentUser.get().getId());\n   } else {\n    this.props.signOut();\n   }\n  };\n\n  onSignIn = () => {\n    this.auth.signIn()\n  };\n\n  onSignOut = () => {\n    this.auth.signOut()\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === true) {\n      return (\n        <button onClick={this.onSignOut} className=\"ui inverted button\">\n          <i className=\"power off icon\" style={{ marginRight: '-2px' }} />\n        </button>\n      );\n    } else if (this.props.isSignedIn === false) {\n      return (\n        <button onClick={this.onSignIn} className=\"ui inverted medium button\">\n          <i style={{ marginRight: '15px' }} className=\"google icon\"></i>\n          Sign In\n        </button>\n      );\n    } else {\n      return (\n        <div>\n          <div className=\"ui active mini inline loader\"></div>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"item\">\n        {this.renderAuthButton()}\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// components import\nimport GoogleAuth from './GoogleAuth';\n\nconst Navbar = () => {\n  return (\n    <div className=\"ui menu twitch-bg\">\n      <Link to=\"/\" className=\"link item\">\n        <i className=\"twitch big inverted icon\"></i>\n      </Link>\n      <div className=\"right menu\">\n        <GoogleAuth />\n      </div>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass Setup extends React.Component {\n  renderCreateLink = () => {\n    if (!this.props.isSignedIn) {\n      return <h2>Create your channel</h2>\n    } else {\n      return(\n        <h2><Link to=\"streams/new\">Create</Link> your channel</h2>\n      );\n    }\n  };\n\n  render() {\n    return(\n      <React.Fragment>\n        <h2 className=\"mf\" id=\"s-title\">To stream on Cursed Twitch</h2>\n        <div className=\"ui placeholder segment\" id=\"s-main\">\n          <div className=\"ui four column stackable center aligned grid\">\n            <div className=\"middle aligned row\">\n              <div className=\"column\">\n                <div className=\"ui icon\">\n                  <i className=\"google huge icon\"></i>\n                  <h2>Login with Google</h2>\n                </div>\n              </div>\n              <div className=\"column\" id=\"central-column\">\n                <div className=\"ui icon\">\n                  <i className=\"video huge icon\"></i>\n                  {this.renderCreateLink()}\n                </div>\n              </div>\n              <div className=\"column\" id=\"central-column\">\n                <div className=\"ui icon\">\n                  <img src=\"./logo-obs.png\" alt=\"\" id=\"obs\"/>\n                  <h2>Download <a href=\"https://obsproject.com/fr/download\" target=\"_blank\">OBS</a></h2>\n                </div>\n              </div>\n              <div className=\"column\">\n                <div className=\"ui icon\">\n                  <i className=\"play circle outline huge icon\"></i>\n                  <h2>Stream</h2>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps)(Setup);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchStreams } from '../../actions';\n// components\nimport Setup from './Setup'\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderCreate() {\n    if (this.props.isSignedIn) {\n      return (\n        <div className=\"sl-create\">\n          <h2 className=\"mf\">Want to create your own channel ?</h2>\n          <div id=\"create-btn\">\n            <Link to=\"/streams/new\" className=\"ui basic inverted button violet\">\n              GO !\n            </Link>\n          </div>\n        </div>\n      );\n    }\n  };\n\n  renderAdmin(stream) {\n    if (this.props.currentUserId === stream.userId) {\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"mini ui inverted button violet\" title=\"Parameter\">\n            <i className=\"cog icon\" style={{ marginRight: '-2px' }}/>\n          </Link>\n          <Link to={`/streams/delete/${stream.id}`} className=\"mini ui inverted button cancel\" title=\"Delete Channel\">\n            <i className=\"trash icon\" style={{ marginRight: '-2px' }} />\n          </Link>\n        </div>\n      );\n    }\n  };\n\n  renderList() {\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned tv icon\" />\n          <div className=\"content\">\n            <Link to={`streams/${stream.id}`}>\n              {stream.title}\n            </Link>\n            <div className=\"description\">\n              {stream.description}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"sl-main\">\n        <div className=\"sl-header\">\n          <h1 className=\"mf\">Welcome to Cursed Twitch</h1>\n        </div>\n        <div className=\"sl-list\">\n          <h2>Channels</h2>\n          <div className=\"ui big relaxed divided list\">\n            {this.renderList()}\n          </div>\n        </div>\n        <Setup />\n        {this.renderCreate()}\n      </div>\n    );\n  };\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  }\n};\n\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream } from '../../actions';\n// streaming setup\nimport flv from 'flv.js';\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const { id } = this.props.match.params;\n    this.player = flv.createPlayer({\n                    type: 'flv',\n                    url: `http://react-stream-rmtp/live/${id}.flv`\n                  });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  renderStream() {\n    if (!this.props.stream) {\n      return (\n        <div className=\"ui active loader\"></div>\n      );\n    }\n\n    const { title, description } = this.props.stream\n\n    return (\n      <div className=\"ss-main\">\n        <div className=\"ss-title\">\n          <h1 className=\"mf\">{title}'s Stream</h1>\n        </div>\n        <video ref={this.videoRef} style={{ width: '100%'}} controls />\n        <div className=\"ss-text\">\n          <div className=\"ss-description\">\n            <h3 className=\"mf\"><i className=\"info circle icon\"></i> More Info</h3>\n            <h5 className=\"mf\">{description}</h5>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderStream()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\n\nclass StreamForm extends React.Component {\n  renderError({ error, touched }) {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  };\n\n  renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? 'error': ''}`\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input\n          {...input}\n          autoComplete=\"off\"\n          className=\"ui field\"\n        />\n        {this.renderError(meta)}\n      </div>\n    );\n  };\n\n  onSubmit = (formValues) => {\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <hr/>\n        <div className=\"mf center\">\n          <form\n            onSubmit={this.props.handleSubmit(this.onSubmit)}\n            className=\"ui form error\"\n          >\n            <Field\n              name=\"title\"\n              component={this.renderInput}\n              label=\"Choose the name of your channel\"\n            />\n            <Field\n              name=\"description\"\n              component={this.renderInput}\n              label=\"Add a description\"\n            />\n            <div className=\"f-btn\">\n              <button className=\"ui button violet\">\n                <div className=\"mf\">Submit</div>\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n};\n\nconst validate = (formValues) => {\n  const errors= {};\n\n  if (!formValues.title) {\n    errors.title = 'You must enter a title'\n  };\n\n  if (!formValues.description) {\n    errors.description = 'You must enter a description'\n  };\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'streamForm',\n  validate\n})(StreamForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamCreate extends React.Component {\n  onSubmit = (formValues) => {\n    if (!this.props.isSignedIn) {\n      return\n    }\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div className=\"sc-main\">\n        <div className=\"sf-header\">\n          <h1 className=\"mf\">Create your Stream</h1>\n        </div>\n        <div>\n          <StreamForm onSubmit={this.onSubmit}/>\n        </div>\n      </div>\n    );\n  };\n};\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createStream })(StreamCreate);\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream, editStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = (formValues) => {\n    if (this.props.currentUserId !== this.props.stream.userId) {\n      return\n    }\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading</div>\n    }\n\n    return (\n      <div className=\"se-main\">\n        <div className=\"sf-header\">\n          <h1 className=\"mf\">Edit your stream</h1>\n        </div>\n        <StreamForm\n          onSubmit={this.onSubmit}\n          initialValues={_.pick(this.props.stream, 'title', 'description')}\n        />\n      </div>\n    );\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    stream: state.streams[ownProps.match.params.id],\n    currentUserId: state.auth.userId\n  };\n};\n\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div onClick={(e) => e.stopPropagation()} className=\"ui standard modal visible active\">\n        <div className=\"header\">\n          {props.title}\n        </div>\n        <div className=\"content\">\n          <h4 className=\"mf\">{props.content}</h4>\n        </div>\n        <div className=\"actions\">\n          {props.action}\n        </div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport history from '../../history';\n// actions\nimport { connect } from 'react-redux';\nimport { fetchStream, deleteStream } from '../../actions';\n// Components\nimport Modal from '../Modal';\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onClickHandler = () => {\n    if (!this.props.stream || this.props.currentUserId !== this.props.stream.userId) {\n      return\n    } else {\n      this.props.deleteStream(this.props.stream.id);\n    }\n  };\n\n  renderAction() {\n    return (\n      <React.Fragment>\n        <button onClick={this.onClickHandler} className=\"ui button violet\"><div className=\"mf\">Delete</div></button>\n        <Link to=\"/\" className=\"ui button cancel\"><div className=\"mf\">Cancel</div></Link>\n      </React.Fragment>\n    );\n  }\n\n  renderTitle() {\n    return <div className=\"mf\">Delete Stream</div>\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return 'Are you sure you want to delete channel ?'\n    }\n\n    return `Are you sure you want to delete \"${this.props.stream.title}\" channel ?`\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal\n          onDismiss={() => history.push('/')}\n          title={this.renderTitle()}\n          content={this.renderContent()}\n          action={this.renderAction()}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    stream: state.streams[ownProps.match.params.id],\n    currentUserId: state.auth.userId\n  };\n};\n\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(StreamDelete);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\n// Scss import\nimport './App.scss'\n\n// components import\nimport Navbar from './Navbar'\nimport StreamList from './streams/StreamList'\nimport StreamShow from './streams/StreamShow'\nimport StreamCreate from './streams/StreamCreate'\nimport StreamEdit from './streams/StreamEdit'\nimport StreamDelete from './streams/StreamDelete'\n\n// Custom history object\nimport history from '../history'\n\nconst App = () => {\n  return (\n    <div>\n      <Router history={history}>\n        <Navbar />\n        <div className=\"ui container\">\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// redux\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n// file import\nimport reducers from './reducers';\n\n// Components import\nimport App from './components/App';\n\n// Creating redux store\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\n// mounting app to root\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}